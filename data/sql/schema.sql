CREATE TABLE article_version (id BIGINT, name VARCHAR(255) NOT NULL, text LONGTEXT, resume VARCHAR(255), is_active TINYINT(1) DEFAULT '1' NOT NULL, created_by BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, position BIGINT, version BIGINT, PRIMARY KEY(id, version)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE article (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, text LONGTEXT, resume VARCHAR(255), is_active TINYINT(1) DEFAULT '1' NOT NULL, created_by BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, position BIGINT, version BIGINT, INDEX created_by_idx (created_by), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE branch_version (id BIGINT, name VARCHAR(255) NOT NULL, number VARCHAR(255) NOT NULL, resume VARCHAR(255), whatsnew LONGTEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, position BIGINT, version BIGINT, PRIMARY KEY(id, version)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE branch (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, number VARCHAR(255) NOT NULL UNIQUE, resume VARCHAR(255), whatsnew LONGTEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, position BIGINT, version BIGINT, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE comment (id BIGINT AUTO_INCREMENT, article_id BIGINT NOT NULL, name VARCHAR(255), text LONGTEXT, is_active TINYINT(1) DEFAULT '1' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX article_id_idx (article_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_area (id BIGINT AUTO_INCREMENT, dm_layout_id BIGINT, dm_page_view_id BIGINT, type VARCHAR(255) DEFAULT 'content' NOT NULL, INDEX dm_layout_id_idx (dm_layout_id), INDEX dm_page_view_id_idx (dm_page_view_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_auto_seo_translation (id BIGINT, slug VARCHAR(255) NOT NULL, name VARCHAR(255) NOT NULL, title VARCHAR(255) NOT NULL, h1 VARCHAR(255), description VARCHAR(255), keywords VARCHAR(255), strip_words TEXT, lang CHAR(2), PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_auto_seo (id BIGINT AUTO_INCREMENT, module VARCHAR(127) NOT NULL, action VARCHAR(127) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, UNIQUE INDEX dmAutoSeoModuleAction_idx (module, action), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_catalogue (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, source_lang VARCHAR(15) NOT NULL, target_lang VARCHAR(15) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_error (id BIGINT AUTO_INCREMENT, klass VARCHAR(127) NOT NULL, name VARCHAR(255) NOT NULL, description TEXT, module VARCHAR(127), action VARCHAR(127), uri VARCHAR(255) NOT NULL, env VARCHAR(63) NOT NULL, created_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_group (id BIGINT AUTO_INCREMENT, name VARCHAR(255) UNIQUE, description TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_group_permission (dm_group_id BIGINT, dm_permission_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(dm_group_id, dm_permission_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_layout (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, template VARCHAR(255) DEFAULT 'page' NOT NULL, css_class VARCHAR(255), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_mail_template_translation (id BIGINT, description TEXT, title TEXT, body LONGTEXT, from_email TEXT, to_email TEXT, is_html TINYINT(1) DEFAULT '0' NOT NULL, is_active TINYINT(1) DEFAULT '1' NOT NULL, lang CHAR(2), PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_mail_template (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, vars TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_media (id BIGINT AUTO_INCREMENT, dm_media_folder_id BIGINT NOT NULL, file VARCHAR(255) NOT NULL, legend VARCHAR(255), author VARCHAR(255), license VARCHAR(255), mime VARCHAR(63) NOT NULL, size INT UNSIGNED, dimensions VARCHAR(15), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, UNIQUE INDEX folderFile_idx (dm_media_folder_id, file), INDEX dm_media_folder_id_idx (dm_media_folder_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_media_folder (id BIGINT AUTO_INCREMENT, rel_path VARCHAR(255) NOT NULL UNIQUE, lft INT, rgt INT, level SMALLINT, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_page_translation (id BIGINT, slug VARCHAR(255) NOT NULL, name VARCHAR(255) NOT NULL, title VARCHAR(255), h1 VARCHAR(255), description VARCHAR(255), keywords VARCHAR(255), auto_mod VARCHAR(6) DEFAULT 'snthdk' NOT NULL, is_active TINYINT(1) DEFAULT '1' NOT NULL, is_secure TINYINT(1) DEFAULT '0' NOT NULL, is_indexable TINYINT(1) DEFAULT '1' NOT NULL, lang CHAR(2), PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_page (id BIGINT AUTO_INCREMENT, module VARCHAR(127) NOT NULL, action VARCHAR(127) NOT NULL, record_id BIGINT UNSIGNED DEFAULT 0 NOT NULL, lft INT, rgt INT, level SMALLINT, UNIQUE INDEX recordModuleAction_idx (module, action, record_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_page_view (id BIGINT AUTO_INCREMENT, module VARCHAR(127) NOT NULL, action VARCHAR(127) NOT NULL, dm_layout_id BIGINT, UNIQUE INDEX dmPageViewModuleAction_idx (module, action), INDEX dm_layout_id_idx (dm_layout_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_permission (id BIGINT AUTO_INCREMENT, name VARCHAR(255) UNIQUE, description TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_redirect (id BIGINT AUTO_INCREMENT, source VARCHAR(255) NOT NULL UNIQUE, dest VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_remember_key (dm_user_id BIGINT, remember_key VARCHAR(32), ip_address VARCHAR(50), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX dm_user_id_idx (dm_user_id), PRIMARY KEY(ip_address)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_sent_mail (id BIGINT AUTO_INCREMENT, name VARCHAR(255), header TEXT, description TEXT, created_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_setting_translation (id BIGINT, description VARCHAR(255), value TEXT, default_value TEXT, lang CHAR(2), PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_setting (id BIGINT AUTO_INCREMENT, name VARCHAR(127) NOT NULL UNIQUE, type VARCHAR(255) DEFAULT 'text' NOT NULL, params TEXT, group_name VARCHAR(255) DEFAULT '' NOT NULL, credentials VARCHAR(255), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_trans_unit (id BIGINT AUTO_INCREMENT, dm_catalogue_id BIGINT NOT NULL, source TEXT NOT NULL, target TEXT NOT NULL, meta VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX dm_catalogue_id_idx (dm_catalogue_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_user (id BIGINT AUTO_INCREMENT, username VARCHAR(255) NOT NULL UNIQUE, email VARCHAR(255) NOT NULL UNIQUE, algorithm VARCHAR(128) DEFAULT 'sha1' NOT NULL, salt VARCHAR(128), password VARCHAR(128), is_active TINYINT(1) DEFAULT '1', is_super_admin TINYINT(1) DEFAULT '0', last_login DATETIME, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX is_active_idx_idx (is_active), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_user_group (dm_user_id BIGINT, dm_group_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(dm_user_id, dm_group_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_user_permission (dm_user_id BIGINT, dm_permission_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(dm_user_id, dm_permission_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_widget_translation (id BIGINT, value TEXT, lang CHAR(2), PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_widget (id BIGINT AUTO_INCREMENT, dm_zone_id BIGINT NOT NULL, module VARCHAR(127) NOT NULL, action VARCHAR(127) NOT NULL, css_class VARCHAR(255), position BIGINT, updated_at DATETIME NOT NULL, INDEX dm_zone_id_idx (dm_zone_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE dm_zone (id BIGINT AUTO_INCREMENT, dm_area_id BIGINT NOT NULL, css_class VARCHAR(255), width VARCHAR(15), position BIGINT, INDEX dm_area_id_idx (dm_area_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE doc_translation_version (id BIGINT, lang CHAR(2), name VARCHAR(255) NOT NULL, resume VARCHAR(255), text LONGTEXT, is_active TINYINT(1) DEFAULT '1' NOT NULL, version BIGINT, PRIMARY KEY(id, lang, version)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE doc_translation (id BIGINT, name VARCHAR(255) NOT NULL, resume VARCHAR(255), text LONGTEXT, is_active TINYINT(1) DEFAULT '1' NOT NULL, lang CHAR(2), version BIGINT, PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE doc (id BIGINT AUTO_INCREMENT, branch_id BIGINT NOT NULL, type VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, position BIGINT, INDEX branch_id_idx (branch_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE doc_page_translation_version (id BIGINT, lang CHAR(2), name VARCHAR(255) NOT NULL, resume VARCHAR(255), text LONGTEXT, is_active TINYINT(1) DEFAULT '1' NOT NULL, is_done TINYINT(1) DEFAULT '0' NOT NULL, version BIGINT, PRIMARY KEY(id, lang, version)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE doc_page_translation (id BIGINT, name VARCHAR(255) NOT NULL, resume VARCHAR(255), text LONGTEXT, is_active TINYINT(1) DEFAULT '1' NOT NULL, is_done TINYINT(1) DEFAULT '0' NOT NULL, lang CHAR(2), version BIGINT, PRIMARY KEY(id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE doc_page (id BIGINT AUTO_INCREMENT, doc_id BIGINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, position BIGINT, INDEX doc_id_idx (doc_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE plugin_version (id BIGINT, name VARCHAR(255) NOT NULL, resume VARCHAR(255), text LONGTEXT, readme LONGTEXT, is_active TINYINT(1) DEFAULT '1' NOT NULL, is_done TINYINT(1) DEFAULT '0' NOT NULL, symfony_url VARCHAR(255), svn_url VARCHAR(255), package_url VARCHAR(255), package BIGINT, created_by BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, position BIGINT, version BIGINT, PRIMARY KEY(id, version)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE plugin (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, resume VARCHAR(255), text LONGTEXT, readme LONGTEXT, is_active TINYINT(1) DEFAULT '1' NOT NULL, is_done TINYINT(1) DEFAULT '0' NOT NULL, symfony_url VARCHAR(255), svn_url VARCHAR(255), package_url VARCHAR(255), package BIGINT, created_by BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, position BIGINT, version BIGINT, INDEX package_idx (package), INDEX created_by_idx (created_by), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE plugin_branch (plugin_id BIGINT, branch_id BIGINT, PRIMARY KEY(plugin_id, branch_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE plugin_comment (id BIGINT AUTO_INCREMENT, plugin_id BIGINT NOT NULL, name VARCHAR(255), text LONGTEXT, is_active TINYINT(1) DEFAULT '1' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX plugin_id_idx (plugin_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE site (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, text LONGTEXT, url VARCHAR(255), screen BIGINT, diem_version VARCHAR(255), is_fr TINYINT(1) DEFAULT '0' NOT NULL, is_active TINYINT(1) DEFAULT '1' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, position BIGINT, INDEX screen_idx (screen), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE snippet_version (id BIGINT, name VARCHAR(255) NOT NULL, text LONGTEXT, is_active TINYINT(1) DEFAULT '1' NOT NULL, created_by VARCHAR(255) NOT NULL, hash VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, position BIGINT, version BIGINT, PRIMARY KEY(id, version)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE snippet (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, text LONGTEXT, is_active TINYINT(1) DEFAULT '1' NOT NULL, created_by VARCHAR(255) NOT NULL, hash VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, position BIGINT, version BIGINT, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE snippet_comment (id BIGINT AUTO_INCREMENT, snippet_id BIGINT NOT NULL, name VARCHAR(255), text LONGTEXT, is_active TINYINT(1) DEFAULT '1' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX snippet_id_idx (snippet_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE version_version (id BIGINT, branch_id BIGINT NOT NULL, name VARCHAR(255) NOT NULL, number VARCHAR(255) NOT NULL, package BIGINT, svn_url VARCHAR(255), text LONGTEXT, resume VARCHAR(255), changelog LONGTEXT, is_active TINYINT(1) DEFAULT '1' NOT NULL, is_best TINYINT(1) DEFAULT '0' NOT NULL, stability VARCHAR(255), downloads BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, position BIGINT, version BIGINT, PRIMARY KEY(id, version)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE version (id BIGINT AUTO_INCREMENT, branch_id BIGINT NOT NULL, name VARCHAR(255) NOT NULL, number VARCHAR(255) NOT NULL UNIQUE, package BIGINT, svn_url VARCHAR(255), text LONGTEXT, resume VARCHAR(255), changelog LONGTEXT, is_active TINYINT(1) DEFAULT '1' NOT NULL, is_best TINYINT(1) DEFAULT '0' NOT NULL, stability VARCHAR(255), downloads BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, position BIGINT, version BIGINT, INDEX package_idx (package), INDEX branch_id_idx (branch_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
ALTER TABLE article_version ADD CONSTRAINT article_version_id_article_id FOREIGN KEY (id) REFERENCES article(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE article ADD CONSTRAINT article_created_by_dm_user_id FOREIGN KEY (created_by) REFERENCES dm_user(id) ON DELETE SET NULL;
ALTER TABLE branch_version ADD CONSTRAINT branch_version_id_branch_id FOREIGN KEY (id) REFERENCES branch(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE comment ADD CONSTRAINT comment_article_id_article_id FOREIGN KEY (article_id) REFERENCES article(id) ON DELETE CASCADE;
ALTER TABLE dm_area ADD CONSTRAINT dm_area_dm_page_view_id_dm_page_view_id FOREIGN KEY (dm_page_view_id) REFERENCES dm_page_view(id) ON DELETE CASCADE;
ALTER TABLE dm_area ADD CONSTRAINT dm_area_dm_layout_id_dm_layout_id FOREIGN KEY (dm_layout_id) REFERENCES dm_layout(id) ON DELETE CASCADE;
ALTER TABLE dm_auto_seo_translation ADD CONSTRAINT dm_auto_seo_translation_id_dm_auto_seo_id FOREIGN KEY (id) REFERENCES dm_auto_seo(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE dm_group_permission ADD CONSTRAINT dm_group_permission_dm_permission_id_dm_permission_id FOREIGN KEY (dm_permission_id) REFERENCES dm_permission(id) ON DELETE CASCADE;
ALTER TABLE dm_group_permission ADD CONSTRAINT dm_group_permission_dm_group_id_dm_group_id FOREIGN KEY (dm_group_id) REFERENCES dm_group(id) ON DELETE CASCADE;
ALTER TABLE dm_mail_template_translation ADD CONSTRAINT dm_mail_template_translation_id_dm_mail_template_id FOREIGN KEY (id) REFERENCES dm_mail_template(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE dm_media ADD CONSTRAINT dm_media_dm_media_folder_id_dm_media_folder_id FOREIGN KEY (dm_media_folder_id) REFERENCES dm_media_folder(id) ON DELETE CASCADE;
ALTER TABLE dm_page_translation ADD CONSTRAINT dm_page_translation_id_dm_page_id FOREIGN KEY (id) REFERENCES dm_page(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE dm_page_view ADD CONSTRAINT dm_page_view_dm_layout_id_dm_layout_id FOREIGN KEY (dm_layout_id) REFERENCES dm_layout(id) ON DELETE SET NULL;
ALTER TABLE dm_remember_key ADD CONSTRAINT dm_remember_key_dm_user_id_dm_user_id FOREIGN KEY (dm_user_id) REFERENCES dm_user(id) ON DELETE CASCADE;
ALTER TABLE dm_setting_translation ADD CONSTRAINT dm_setting_translation_id_dm_setting_id FOREIGN KEY (id) REFERENCES dm_setting(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE dm_trans_unit ADD CONSTRAINT dm_trans_unit_dm_catalogue_id_dm_catalogue_id FOREIGN KEY (dm_catalogue_id) REFERENCES dm_catalogue(id) ON DELETE CASCADE;
ALTER TABLE dm_user_group ADD CONSTRAINT dm_user_group_dm_user_id_dm_user_id FOREIGN KEY (dm_user_id) REFERENCES dm_user(id) ON DELETE CASCADE;
ALTER TABLE dm_user_group ADD CONSTRAINT dm_user_group_dm_group_id_dm_group_id FOREIGN KEY (dm_group_id) REFERENCES dm_group(id) ON DELETE CASCADE;
ALTER TABLE dm_user_permission ADD CONSTRAINT dm_user_permission_dm_user_id_dm_user_id FOREIGN KEY (dm_user_id) REFERENCES dm_user(id) ON DELETE CASCADE;
ALTER TABLE dm_user_permission ADD CONSTRAINT dm_user_permission_dm_permission_id_dm_permission_id FOREIGN KEY (dm_permission_id) REFERENCES dm_permission(id) ON DELETE CASCADE;
ALTER TABLE dm_widget_translation ADD CONSTRAINT dm_widget_translation_id_dm_widget_id FOREIGN KEY (id) REFERENCES dm_widget(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE dm_widget ADD CONSTRAINT dm_widget_dm_zone_id_dm_zone_id FOREIGN KEY (dm_zone_id) REFERENCES dm_zone(id) ON DELETE CASCADE;
ALTER TABLE dm_zone ADD CONSTRAINT dm_zone_dm_area_id_dm_area_id FOREIGN KEY (dm_area_id) REFERENCES dm_area(id) ON DELETE CASCADE;
ALTER TABLE doc_translation_version ADD CONSTRAINT doc_translation_version_id_doc_translation_id FOREIGN KEY (id) REFERENCES doc_translation(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE doc_translation ADD CONSTRAINT doc_translation_id_doc_id FOREIGN KEY (id) REFERENCES doc(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE doc ADD CONSTRAINT doc_branch_id_branch_id FOREIGN KEY (branch_id) REFERENCES branch(id) ON DELETE CASCADE;
ALTER TABLE doc_page_translation_version ADD CONSTRAINT doc_page_translation_version_id_doc_page_translation_id FOREIGN KEY (id) REFERENCES doc_page_translation(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE doc_page_translation ADD CONSTRAINT doc_page_translation_id_doc_page_id FOREIGN KEY (id) REFERENCES doc_page(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE doc_page ADD CONSTRAINT doc_page_doc_id_doc_id FOREIGN KEY (doc_id) REFERENCES doc(id) ON DELETE CASCADE;
ALTER TABLE plugin_version ADD CONSTRAINT plugin_version_id_plugin_id FOREIGN KEY (id) REFERENCES plugin(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE plugin ADD CONSTRAINT plugin_package_dm_media_id FOREIGN KEY (package) REFERENCES dm_media(id) ON DELETE SET NULL;
ALTER TABLE plugin ADD CONSTRAINT plugin_created_by_dm_user_id FOREIGN KEY (created_by) REFERENCES dm_user(id) ON DELETE SET NULL;
ALTER TABLE plugin_branch ADD CONSTRAINT plugin_branch_plugin_id_plugin_id FOREIGN KEY (plugin_id) REFERENCES plugin(id) ON DELETE CASCADE;
ALTER TABLE plugin_branch ADD CONSTRAINT plugin_branch_branch_id_branch_id FOREIGN KEY (branch_id) REFERENCES branch(id) ON DELETE CASCADE;
ALTER TABLE plugin_comment ADD CONSTRAINT plugin_comment_plugin_id_plugin_id FOREIGN KEY (plugin_id) REFERENCES plugin(id) ON DELETE CASCADE;
ALTER TABLE site ADD CONSTRAINT site_screen_dm_media_id FOREIGN KEY (screen) REFERENCES dm_media(id) ON DELETE SET NULL;
ALTER TABLE snippet_version ADD CONSTRAINT snippet_version_id_snippet_id FOREIGN KEY (id) REFERENCES snippet(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE snippet_comment ADD CONSTRAINT snippet_comment_snippet_id_snippet_id FOREIGN KEY (snippet_id) REFERENCES snippet(id) ON DELETE CASCADE;
ALTER TABLE version_version ADD CONSTRAINT version_version_id_version_id FOREIGN KEY (id) REFERENCES version(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE version ADD CONSTRAINT version_package_dm_media_id FOREIGN KEY (package) REFERENCES dm_media(id) ON DELETE SET NULL;
ALTER TABLE version ADD CONSTRAINT version_branch_id_branch_id FOREIGN KEY (branch_id) REFERENCES branch(id) ON DELETE CASCADE;
